name: Rust-Evn

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]
env:
  CARGO_TERM_COLOR: always
  ANIL_ENV: anil
  myExponentialNumber: ${{ -2.99e-2 }}
  
jobs:
  build1:
    runs-on: self-hosted
    if: github.repository == 'anilWu/file-scan'
    outputs:
      output1: ${{ steps.step1.outputs.test }}
      output2: ${{ steps.step2.outputs.test }}
    steps:
    - name: step1
      run:  echo "test=hello" >> "$GITHUB_OUTPUT"
      shell: powershell
      env:
          step1_env: 5432
      if: ${{ env.step1_env == 5432 }} 

    - name: step2
      run: echo "test=world" >> "$GITHUB_OUTPUT"
      shell: powershell

  build2:
      runs-on: self-hosted
      needs:  build1
      steps:
      - name: step1
        run: |
          echo "Anil Test"
        shell: powershell
